{% load i18n %}
<!--=== Search Results ===-->
<div class="container s-results margin-bottom-50">
  
    <!-- Map Filter -->
    <div class="row" style="margin-right: 20px;"> 
               
        <!-- Map -->
        <div id="map-filter" class="" style="display: none;">

            <div class="row" style="margin-left: -19px;">
                <div class="col-xs-12" style="z-index: 900;">

                    <div class="row" style="margin-right: 0px; margin-top: 0px;">
                        <!-- Filter Tools -->
                        <div class="col-sm-5 col-md-4 pull-right hidden-xs" style="padding-right: 0px;">
                            <div class="btn-group pull-right margin-10 margin-right-10" style="margin-top: 15px;">
                                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                                    Map Tools
                                    <i class="fa fa-chevron-down"></i>
                                    <span class="sr-only">Toggle Dropdown</span>                            
                                </button>
                                <ul id="map-tools-dropdown" class="dropdown-menu" role="menu">
                                    <li name="map-tools"><a id="map-extent-filter" data-tooltype="map-extent" href="#" class="info-link"><i class="fa fa-xxx" data-bind="css: {'fa-check' : geometry.type() == 'bbox'}"></i>Limit search results to map extent</a></li>
                                    <li class="divider"></li>
                                    <li name="map-tools"><a id="polygon-filter" data-tooltype="Polygon" href="#" class="info-link polygon-filter"><i class="fa fa-xxx" data-bind="css: {'fa-check' : geometry.type() == 'Polygon'}"></i>Draw Polygon to Filter Map</a></li>
                                    <li name="map-tools"><a id="line-filter" data-tooltype="LineString" href="#"><i class="fa fa-xxx" data-bind="css: {'fa-check' : geometry.type() == 'LineString'}"></i>Draw Line to Filter Map</a></li>
                                    <li name="map-tools"><a id="point-filter" data-tooltype="Point" href="#"><i class="fa fa-xxx" data-bind="css: {'fa-check' : geometry.type() == 'Point'}"></i>Draw Point to Filter Map</a></li>
                                    <li class="divider"></li>
                                    <li>
                                        <a id="spatial-buffer" href="#" style="padding-left: 13px;"><i class="fa fa-xxx"></i>Buffer (ft)<input id="map-buffer" type="text" class="" style="width: 30%; margin-left: 5px;" data-bind="textInput: buffer.width" /></a>
                                    </li>
                                </ul>                        
                            </div>
                        </div>
                    </div>
                </div>
                    
                <!-- Map -->
                <div class="col-xs-12" style="margin-top: -50px;">
                    <!-- <div id="searchmap" class="map arches-map-filter arches-search-map"></div>
                    <div id="map" class="fill"></div> -->
                    <div id="map" class="map arches-map-filter arches-search-map"></div>
                    <div id="olmap" class="fill"></div>
                    <div class="col-xs-12" style="margin-top: -640px; float:right; width:105px">
                        <div class="btn-group-vertical" role="group" data-bind='foreach: baseLayers' style="padding:3px; border-radius:4px; background: rgba(255, 255, 255, 0.4); z-index:100; color:#fff'">
                        <button data-bind="attr: { id: id }, text: name" type="button" class="btn btn-primary basemap info-click" style="background:rgba(0,60,136,.5);"></button>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
        <!-- End Basic Map -->


        <!-- Geometry Tools -->
        <div>
            <div class="row">

                <div class="col-sm-6 col-sm-offset-6 col-md-5 col-md-offset-7 col-lg-4 col-lg-offset-8">
                    <div id="filter-tools" class="arches-map-filter-toolpanel" style="display: none;">
                        
                        <h3 class="margin-top-0 margin-bottom-0">Manage Filter</h3>

                        <dl>
                            
                            <dd class="">
                                <div class="arches-crud-record">
                                    <a href="#" class="arches-CRUD-child" title="Remove this geometry"><i class="arches-CRUD-delete fa fa-trash-o"></i></a>
                                    <a href="#" class="arches-CRUD-child" style="font-size: 16px;" title="Edit this geometry">Polygon</a>
                                    
                                        <div class='row'>
                                            <div class='col-xs-12'>
                                                <p style="font-size: 14px; font-weight: 300; color: #999">
                                                    You can limit results to an area around this polygon.  Enter a distance (in feet):
                                                </p>
                                            </div>
                                        </div>

                                        <div class='row'>
                                            <div class='col-xs-12'>
                                                <label class='input' style='width: 100%'>
                                                    <input type='text' class='' style='width: 50%;' placeholder='100'>
                                                    <button class='btn btn-primary btn-u-xs' style="height: 27px; margin-top: -4px;" type='submit'>Filter</button>
                                                </label>
                                            </div>
                                        </div>
                                    
                                </div>
                            </dd>

                        </dl>
                 
                    </div>
                </div>
            </div>
        </div>
        <!-- End Geometry Tools -->
    </div>
    <!-- End Map Filter -->


    <!-- Time Filter -->
    <div class="row"> 
        <div class="arches-time-filter" id="time-filter" style="display: none;">
            
            <!-- Body -->
            <div class="padding-top-0" style="padding-left: 10px;">

                <!-- Date Filter Tools -->
                <div class="row">
                                                                          
                    <div class="col-xs-12" style="">
                                
                        <!-- Year-Before-Present Slider -->
                        <div class="row">

                            <h4 class="margin-top-20 margin-bottom-5 margin-left-15" style="font-style: normal;">
                                Years <small>(show resources with any date that falls between these years)</small>
                            </h4>
                            
                            <form>
                                <fieldset style="margin-right: 30px;">
                                    <div class="col-xs-12">
                                        <div class="form-group margin-top-15 margin-bottom-0">

                                            <input type="text" class="slider slider-success" id="sal" value="" 
                                            data-slider-min="{{min_date}}" 
                                            data-slider-max="{{max_date}}" 
                                            data-slider-step="5" 
                                            data-slider-value="[{{min_date}},{{max_date}}]"
                                            data-slider-handle="round">
                                               
                                        </div>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                        <!-- End Year-Before-Present Slider -->


                        <!-- Start/End Date Pickers -->
                        <div class="row" style="min-height: 180px;">

                            <h4 class="margin-top-0 margin-bottom-5 margin-left-15" style="font-style: normal">
                                Start/End Dates <small>(show resources that meet these date criteria)</small>
                            </h4>

                            <!-- Date Form -->
                            <div class="col-sm-12 padding-left-0 margin-bottom-20">

                                <!-- Time Criteria Entry Form for screens > xs -->
                                <form class="form-inline hidden-xs" role="form">
                        
                                    <div class="form-group margin-top-5 padding-bottom-10" style="width: 100%">
                                        
                                        <div class="col-sm-4" style="padding-right: 5px;">
                                            <div style="height: 36px; padding-top: 2px; width:100%" class="select2 arches-select2-crud-form" id="date-type" placeholder="type" data-bind="select2: { data: domains.date_types, placeholder: 'Type', viewModel: editing.filters, conceptKey: 'date_types'}">
                                            </div>
                                        </div>
                                 
                                        <!-- Date Type -->
                                     <!--    <select style="width:30%; height: 36px; padding-top: 2px;" class="select2 arches-select2-crud-form" id="date-type" placeholder="type">
                                            <option value="00">Search by Date</option>
                                            {% for date_type in date_types %}
                                            <option value="{conceptid:'{{date_type.conceptid}}',entitytypeid:'{{date_type.entitytypeid}}'}">{{date_type.value}}</option>
                                            {% endfor %} 
                                        </select> -->
                                        <!-- Date Type -->
                                        
                                        <!-- Date comparison -->
                                        <div class="col-sm-3" style="padding-right: 5px;">
                                            <div style="height: 36px; padding-top: 2px; width:100%" class="select2 arches-select2-crud-form" id="date-operator" placeholder="" data-bind="select2: { data: domains.date_operators, placeholder: '', viewModel: editing.filters, conceptKey: 'date_operators'}">
                                            </div>
                                        </div>

                                        <!-- <select style="width:30%; height: 36px; padding-top: 2px;" class="select2 arches-select2-crud-form" id="date-operator" placeholder="" data-bind="select2: { data: domains.date_operators, placeholder: 'Type', viewModel: editing.filters, conceptKey: 'date_operators__conceptid'}">
                                            <option value="<">Before</option>
                                            <option value="=">On</option>
                                            <option value=">">After</option>  
                                        </select> -->
                                        <!-- Date Type -->

                                        
                                        <div class="col-sm-3 form-group" style="padding-right: 5px;">
                                            <div class="input-group datetimepicker" style ="width:100%; height: 36px; padding-top: 2px;" >
                                                <input type="text" id="date" placeholder="Date assessed" class="form-control datepicker" data-date-format="DD/MM/YYYY" data-bind='{value: editing.filters.date}' >
                                                <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                            </div>
                                        </div>
                                     
                                        
                                        <!-- Add Button -->
                                        <div class="col-sm-2 btn-group" style="padding-top: 3px;">
                                            <button type="button" class="add-button btn btn-primary" style="height: 32px;" id="add-temporal-filter-btn"><i class=" fa fa-plus"></i> Add</button>
                                        </div>
                                        <!-- End Add Button -->

                                    </div>
                                </form>
                                <!-- Time Criteria Entry Form for screens > xs -->

                            </div>
                            <!-- End Form for Small, Md, Lg Screens -->

                            <!-- Show seleted filters -->
                            <div class="col-xs-12">

                                <div class="">
                                    <dl>
                                        <dd class="arches-CRUD-child margin-left-5 text-muted" style="margin-top: -15px;">
                                            You have selected the following date filters:
                                        </dd>

                                        <dd class="margin-left-5" style="display: block;" data-bind="visible: true">
                                            <div data-bind="visible: filters().length == 0" class="txt-color-blue">{% trans "No Filters Defined" %}</div>   
                                            
                                            <div data-bind='foreach: filters'>
                                                <div class="arches-crud-record">
                                                    <a href="javascript:void(0)" class="arches-CRUD-child" title="Remove this filter"><i data-bind='attr: {"data-index": $index}' class="arches-CRUD-delete fa fa-times-circle"></i></a>
                                                    <a href="javascript:void(0)" class="text-muted arches-CRUD-child arches-CRUD-edit" data-bind='attr: {"data-index": $index}' title="Edit this name"><span data-bind='text: date_types__label + " " + date_operators__label + " " + date' style="padding-right:2px;"></span><span class="text-muted arches-crud-type-identifier"></span>
                                                    </a>
                                                </div>
                                            </div>
                                        </dd>

                                    </dl>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- End Date Filters -->

            </div>
            <!-- End  Body -->

        </div>
    </div>
    <!-- End Time Filter -->

    <!-- Search Result Listing -->
    <div class="row"> 
          
        <!-- Content -->              
        <div class="" id="search-results-list" style="padding-top: 0px;">

            <!-- Begin Search Results -->
            <div class="col-xs-12">
                
                <div data-bind="foreach: results">

                    <!-- Begin Search Item  -->
                    <div  class="arches-search-item">
                        
                        <!-- Spacer -->
                        <hr class="margin-10">

                        <div class="inner-results padding-left-5">

                            <!-- Item Header -->
                            <h4>
                                <a class="arches-search-title" style="" href="#" data-bind="text: primaryname"></a> 
                                &nbsp;
                                <span class="">
                                    <small class="arches-search-subtitle"><i data-bind="attr: { class: typeIcon }"></i><span data-bind="text: typeName"></span></small>
                                </span>
                            </h4>

                            <!-- Sub-header -->
                            <ul class="list-inline up-ul">
                                {% if user_can_edit == True %}
                                <li>
                                    <i class="arches-search-link fa fa-pencil"></i>&nbsp;
                                    <a href="./hip_resource_editor_locations.html"><span class="arches-search-link">{% trans "Edit" %}</span></a>
                                </li>
                                {% endif %}

                                <li>
                                    <i class="arches-search-link fa fa-book"></i>&nbsp;
                                    <a data-bind="attr: { href: 'reports/' + resourceid }"><span class="arches-search-link">{% trans "Report" %}</span></a>
                                </li>

                                <li>
                                    <i class="arches-search-link fa fa-sitemap"></i>&nbsp;
                                    <a href="#" class="info-link related-resources-graph" id="rr-1"><span class="arches-search-link">{% trans "Related Resources" %}</span></a>
                                </li>

                            </ul>
                            <!-- End Item Sub-Header -->
                          
                            <!-- Item Description -->
                            <p class="arches-search-item-description">
                                
                            </p>
                            <!-- End Item Description -->

                            <!-- Item Creator/Editor -->
                            <!-- This list is hidden for guests, but shown if user is logged in with editor privileges -->
                            <ul class="list-inline down-ul margin-bottom-10 {% if user_can_edit != True %}hidden{% endif %}">
                               
                                <li class="text-muted">
                                    Entered April 14, 2014 by <a href="#" class="text-primary">adalgity@getty.edu</a>
                                </li>

                                <li class="text-muted" style="padding-left: 0px;">
                                    Last Updated: June 1, 2014 by <a href="#" class="text-primary">phil.carlisle@eh.com</a>
                                </li>
                            </ul> 
                            <!-- End Item Creator/Editor -->

                            <div class="svg arches-related-resource-panel" style="display: none;"></div>

                            <!-- Spacer -->
                            <hr class="margin-10 margin-top-20">

                        </div>
                    </div>
                    <!-- End Search Item -->
                </div>

                <div class="margin-bottom-30"></div>

                <!-- Pagination -->
                <div id="paginator">

                </div>
                
                <!-- End Pagination -->  
            </div> 
            <!-- End Search Results -->
                                       
        </div>
        <!-- End Content --> 

    </div> 
   <!-- End Search Result Listing -->

</div>    
<!--=== End Search Results ===-->